#!/bin/bash
# ðŸš€ Hypernode Log Analyzer - CLI wrapper
# 
# This wrapper automatically handles:
# - Virtual environment detection
# - Log file auto-discovery
# - Platform-specific configurations
#
# Quick Start:
#   hlogcli analyze                    # Auto-discover and analyze all logs
#   hlogcli security                   # Security analysis and threat detection
#   hlogcli perf                       # Performance analysis and optimization
#   hlogcli bots                       # Bot analysis and classification
#   hlogcli api                        # API endpoint analysis (NEW!)
#   hlogcli content                    # Content type and resource analysis (NEW!)
#   hlogcli anomalies                  # ML-based anomaly detection (NEW!)
#   hlogcli search --status 404        # Search for specific entries
#   hlogcli report --format html       # Generate comprehensive reports
#   hlogcli --help                     # Show all available commands
#   hlogcli --install-completion       # Install shell autocomplete
#
# For detailed help on any command:
#   hlogcli <command> --help

# Get the directory where this script is located
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# Check if we're in a venv
if [[ -n "$VIRTUAL_ENV" ]] || [[ -f "$SCRIPT_DIR/.venv/bin/python3" ]]; then
    if [[ -f "$SCRIPT_DIR/.venv/bin/python3" ]]; then
        PYTHON_CMD="$SCRIPT_DIR/.venv/bin/python3"
    else
        PYTHON_CMD="python3"
    fi
else
    PYTHON_CMD="python3"
fi

# Run logcli with auto-discover enabled by default
cd "$SCRIPT_DIR"
exec $PYTHON_CMD -m logcli.main "$@"
